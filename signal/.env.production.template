# StudioOS Production Environment Template
# Copy to .env and fill in your values

# =============================================================================
# REQUIRED
# =============================================================================

# Database connection string
DATABASE_URL=postgresql://user:password@localhost:5432/studioos

# JWT signing secret (min 32 characters, use a random string)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-secure-jwt-secret-at-least-32-characters-long

# =============================================================================
# SERVER
# =============================================================================

NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# =============================================================================
# CORS
# =============================================================================

# Comma-separated list of allowed origins
CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# =============================================================================
# SSL/TLS (Optional - typically handled by reverse proxy like nginx)
# =============================================================================

# SSL_KEY_PATH=/etc/ssl/private/server.key
# SSL_CERT_PATH=/etc/ssl/certs/server.crt

# =============================================================================
# RATE LIMITING
# =============================================================================

# Window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# STORAGE
# =============================================================================

# Set storage provider: 'local' (default) or 's3'
STORAGE_PROVIDER=local

# Base path for file storage
STORAGE_PATH=/var/data/studioos/storage

# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=100

# ------------------------------
# S3 (optional - configure when STORAGE_PROVIDER=s3)
# ------------------------------
# S3-compatible endpoint (leave blank for AWS)
S3_ENDPOINT=
S3_REGION=
S3_BUCKET=
S3_ACCOUNT_ID=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_FORCE_PATH_STYLE=false
S3_UPLOAD_EXPIRY=3600
# Multipart upload tuning (optional)
S3_PART_SIZE=5242880        # 5 MB minimum recommended by S3
S3_UPLOAD_QUEUE_SIZE=4      # Number of parallel parts to upload


# =============================================================================
# LOGGING
# =============================================================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log format: json (production), pretty (development)
LOG_FORMAT=json
